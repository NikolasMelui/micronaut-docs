<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
    <title>18 Appendices 2.0.0.BUILD-SNAPSHOT</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <link rel="stylesheet" href="../css/main.css" type="text/css" media="screen, print" title="Style" charset="utf-8"/>
    <link rel="stylesheet" href="../css/pdf.css" type="text/css" media="print" title="PDF" charset="utf-8"/>
    <script type="text/javascript">
function addJsClass() {
    var classes = document.body.className.split(" ");
    classes.push("js");
    document.body.className = classes.join(" ");
}
    </script>
</head>

<body class="body" onload="addJsClass();">
<div id="navigation">
    <div class="navTitle">
        
        Micronaut
    </div>
    <div class="navLinks">
        <ul>
            <li>
                <div id="nav-summary" onmouseover="toggleNavSummary(false)" onmouseout="toggleNavSummary(true)">
                    <a href="../guide/index.html" class="button">Table of contents</a>

                    <div id="nav-summary-childs" style="display:none;">
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/introduction.html"><strong>1</strong><span>Introduction</span></a>
                        </div>
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/quickStart.html"><strong>2</strong><span>Quick Start</span></a>
                        </div>
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/ioc.html"><strong>3</strong><span>Inversion of Control</span></a>
                        </div>
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/config.html"><strong>4</strong><span>Application Configuration</span></a>
                        </div>
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/aop.html"><strong>5</strong><span>Aspect Oriented Programming</span></a>
                        </div>
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/httpServer.html"><strong>6</strong><span>The HTTP Server</span></a>
                        </div>
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/httpClient.html"><strong>7</strong><span>The HTTP Client</span></a>
                        </div>
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/cloud.html"><strong>8</strong><span>Cloud Native Features</span></a>
                        </div>
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/serverlessFunctions.html"><strong>9</strong><span>Serverless Functions</span></a>
                        </div>
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/messaging.html"><strong>10</strong><span>Message-Driven Microservices</span></a>
                        </div>
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/commandLineApps.html"><strong>11</strong><span>Standalone Command Line Applications</span></a>
                        </div>
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/configurations.html"><strong>12</strong><span>Configurations</span></a>
                        </div>
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/languageSupport.html"><strong>13</strong><span>Language Support</span></a>
                        </div>
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/management.html"><strong>14</strong><span>Management &amp; Monitoring</span></a>
                        </div>
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/security.html"><strong>15</strong><span>Security</span></a>
                        </div>
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/multitenancy.html"><strong>16</strong><span>Multi-Tenancy</span></a>
                        </div>
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/cli.html"><strong>17</strong><span>Micronaut CLI</span></a>
                        </div>
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/appendix.html"><strong>18</strong><span>Appendices</span></a>
                        </div>
                        
                    </div>
                </div>
            </li>
            <li class="separator selected">
                <a id="ref-button" onclick="localToggle(); return false;" href="#">Quick Reference</a>
            </li>
        </ul>
    </div>


</div>

<table id="colset" border="0" cellpadding="0" cellspacing="0">
    <tr>
        <td id="col1">
            <div id="main" class="corner-all">

                
                    <div class="toc-item prev-left"><a href="../guide/cli.html">&lt;&lt; <strong>17</strong><span>Micronaut CLI</span></a></div>
                

                <span id='toggle-col1' class="toggle">(<a href="#" onclick="localToggle(); return false;">Quick Reference</a>)</span>

                


                <div class="project">
                    <h1>18 Appendices</h1>

                    <p><strong>Version:</strong> 2.0.0.BUILD-SNAPSHOT</p>
                </div>

                
                <div id="table-of-content">
                    <h2>Table of Contents</h2>
                    
                    <div class="toc-item" style="margin-left:0px"><a href="#faq"><strong>18.1</strong><span>Frequently Asked Questions (FAQ)</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0px"><a href="#usingsnapshots"><strong>18.2</strong><span>Using Snapshots</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0px"><a href="#problems"><strong>18.3</strong><span>Common Problems</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0px"><a href="#breaks"><strong>18.4</strong><span>Breaking Changes</span></a>
                    </div>
                    
                </div>
                

                
<h1 id="appendix"><a class="anchor" href="#appendix"></a>18 Appendices</h1>

<div class='contribute-btn'>
    <button type='button' class='btn btn-default' onclick='window.location.href="https://github.com/micronaut-projects/micronaut-core/edit/master/src/main/docs/guide/appendix.adoc"'>
        <i class='fa fa-pencil-square-o'></i> Improve this doc
    </button>
</div>




<h2 id="faq"><a class="anchor" href="#faq"></a>18.1 Frequently Asked Questions (FAQ)</h2>

<div class='contribute-btn'>
    <button type='button' class='btn btn-default' onclick='window.location.href="https://github.com/micronaut-projects/micronaut-core/edit/master/src/main/docs/guide/appendix/faq.adoc"'>
        <i class='fa fa-pencil-square-o'></i> Improve this doc
    </button>
</div>


<div class="paragraph">
<p>The following section covers frequently asked questions that you may find yourself asking while considering to use or using Micronaut.</p>
</div>
<div class="sect3">
<h4 id="_does_micronaut_modify_my_byte_code"><a class="anchor" href="#_does_micronaut_modify_my_byte_code"></a>Does Micronaut modify my byte code?</h4>
<div class="paragraph">
<p>No. Your classes are your classes. Micronaut does not transform classes or modify the Java byte code you write. Micronaut at compile will produce an additional set of classes that sit next to your original untouched classes.</p>
</div>
</div>
<div class="sect3">
<h4 id="_why_doesn_t_micronaut_use_spring"><a class="anchor" href="#_why_doesn_t_micronaut_use_spring"></a>Why Doesn&#8217;t Micronaut use Spring?</h4>
<div class="paragraph">
<p>When asking why Micronaut doesn&#8217;t use Spring, it is typically in reference to the Spring Dependency Injection container.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The Spring ecosystem is very broad and there are many Spring libraries you can use directly in Micronaut without requiring the Spring container.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The reason Micronaut features its own native <a href="https://www.jcp.org/en/jsr/detail?id=330">JSR-330</a> compliant dependency injection is that the cost of these features in Spring (and any reflection based DI/AOP container) is too great in terms of memory consumption and the impact on startup time. In order to support dependency injection at runtime Spring:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/spring-projects/spring-framework/tree/master/spring-core/src/main/java/org/springframework/core/type/classreading">Reads the byte code</a> of every bean it finds at runtime.</p>
</li>
<li>
<p><a href="https://github.com/spring-projects/spring-framework/blob/a691065d05741a4f1ca17925c8a5deec0f378c8b/spring-core/src/main/java/org/springframework/core/annotation/AnnotationUtils.java#L1465">Synthesizes new annotations</a> for each annotation on each bean method, constructor, field etc. to support Annotation metadata.</p>
</li>
<li>
<p><a href="https://github.com/spring-projects/spring-framework/blob/master/spring-beans/src/main/java/org/springframework/beans/CachedIntrospectionResults.java">Builds Reflective Metadata</a> for each bean for every method, constructor, field etc.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The result is a progressive degradation of startup time and memory consumption as your application incorporates more features.</p>
</div>
<div class="paragraph">
<p>For Microservices and Serverless functions where it is critical that startup time and memory consumption remain low the above behaviour is an undesirable reality of using the Spring container, hence the designers of Micronaut chose not to use Spring.</p>
</div>
</div>
<div class="sect3">
<h4 id="_does_micronaut_support_scala"><a class="anchor" href="#_does_micronaut_support_scala"></a>Does Micronaut support Scala?</h4>
<div class="paragraph">
<p>Micronaut supports any JVM language that supports the Annotation Processor API. Scala currently does not support this API. However, Groovy also doesn&#8217;t support this API and special support has been built that processes the Groovy AST. It may be technically possible to support Scala future if a similar module to <code>inject-groovy</code> is built, but as of this writing Scala is not supported.</p>
</div>
</div>
<div class="sect3">
<h4 id="_can_micronaut_be_used_for_purposes_other_than_microservices"><a class="anchor" href="#_can_micronaut_be_used_for_purposes_other_than_microservices"></a>Can Micronaut be used for purposes other than Microservices?</h4>
<div class="paragraph">
<p>Yes. Micronaut is very modular and you can choose to use just the Dependency Injection and AOP implementation if you want simply by including only the <code>micronaut-inject-java</code> (or <code>micronaut-inject-groovy</code> for Groovy) dependency in your application.</p>
</div>
<div class="paragraph">
<p>In fact Micronaut&#8217;s support for <a href="#serverlessFunctions">Serverless Computing</a> uses this exact approach.</p>
</div>
</div>
<div class="sect3">
<h4 id="_what_are_the_advantages_of_micronaut_s_dependency_injection_and_aop_implementation"><a class="anchor" href="#_what_are_the_advantages_of_micronaut_s_dependency_injection_and_aop_implementation"></a>What are the advantages of Micronaut&#8217;s Dependency Injection and AOP implementation?</h4>
<div class="paragraph">
<p>Micronaut processes your classes at compile time and produces all metadata at compile time. This eliminates the need for reflection, cached reflective metadata and the requirement to analyze your classes at runtime all of which leads to slower startup performance and greater memory consumption.</p>
</div>
<div class="paragraph">
<p>In addition, Micronaut will build AOP proxies at compile time that are completely reflection free, which improves performances, reduces stack trace sizes and reduces memory consumption.</p>
</div>
</div>
<div class="sect3">
<h4 id="_why_does_micronaut_have_its_own_consul_and_eureka_client_implementations"><a class="anchor" href="#_why_does_micronaut_have_its_own_consul_and_eureka_client_implementations"></a>Why does Micronaut have its own Consul and Eureka client implementations?</h4>
<div class="paragraph">
<p>The majority of Consul and Eureka clients that exist are blocking and include a mountain of external dependencies that inflate your JAR files.</p>
</div>
<div class="paragraph">
<p>Micronaut&#8217;s <a href="../api/io/micronaut/discovery/DiscoveryClient.html">DiscoveryClient</a> uses Micronaut&#8217;s native HTTP client thus greatly reducing the need for external dependencies and providing a reactive API onto both discovery servers.</p>
</div>
</div>
<div class="sect3">
<h4 id="_why_am_i_encountering_a_nosuchmethoderror_occurs_loading_my_beans_groovy"><a class="anchor" href="#_why_am_i_encountering_a_nosuchmethoderror_occurs_loading_my_beans_groovy"></a>Why am I encountering a NoSuchMethodError occurs loading my beans (Groovy)?</h4>
<div class="paragraph">
<p>Groovy by default imports the <code>groovy.lang</code> package which includes a class called <code>@Singleton</code> that is an AST transformation that makes your class a singleton (adding a private constructor and static retrieval method). This annotation is easily confused with the <code>javax.inject.Singleton</code> annotation used to define singleton beans in Micronaut. Make sure you are using the correct annotation in your Groovy classes.</p>
</div>
</div>
<div class="sect3">
<h4 id="_why_is_it_taking_much_longer_than_it_should_to_start_the_application"><a class="anchor" href="#_why_is_it_taking_much_longer_than_it_should_to_start_the_application"></a>Why is it taking much longer than it should to start the application</h4>
<div class="paragraph">
<p>Micronaut&#8217;s startup time is typically very fast. At the application level, however, it is possible to block startup time so if you are seeing slow startup, review if you have any application startup listeners or <code>@Context</code> scope beans that are slowing startup.</p>
</div>
<div class="paragraph">
<p>Some network issues can, also cause slow startup. On the Mac for example misconfiguration of your <code>/etc/hosts</code> file can cause issues. See the following <a href="https://stackoverflow.com/a/39698914/1264846">stackoverflow answer</a>.</p>
</div>
</div>

<h2 id="usingsnapshots"><a class="anchor" href="#usingsnapshots"></a>18.2 Using Snapshots</h2>

<div class='contribute-btn'>
    <button type='button' class='btn btn-default' onclick='window.location.href="https://github.com/micronaut-projects/micronaut-core/edit/master/src/main/docs/guide/appendix/usingsnapshots.adoc"'>
        <i class='fa fa-pencil-square-o'></i> Improve this doc
    </button>
</div>


<div class="paragraph">
<p>Micronaut milestone and stable releases are distributed to <a href="https://bintray.com/micronaut">Bintray</a>.</p>
</div>
<div class="paragraph">
<p>The following snippet shows how to use Micronaut <code>BUILD-SNAPSHOT</code> with Gradle. The latest snapshot will always be the next patch version plus 1 with <code>.BUILD-SNAPSHOT</code> appended. For example if the latest release is "1.0.1", the current snapshot would be "1.0.2.BUILD-SNAPSHOT".</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">ext {
  micronautVersion = '1.0.2.BUILD-SNAPSHOT'
}
repositories {
  jcenter() <i class="conum" data-value="1"></i><b>(1)</b>
  maven { url "https://oss.jfrog.org/oss-snapshot-local" } <i class="conum" data-value="2"></i><b>(2)</b>
}
dependencyManagement {
  imports {
      mavenBom "io.micronaut:micronaut-bom:$micronautVersion"
  }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Micronaut releases are available on JCenter and Maven Central</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Micronaut snapshots are available on JFrog OSS</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>In the case of Maven, edit <code>pom.xml</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
  ...

  &lt;properties&gt;
    &lt;micronaut.version&gt;1.0.2.BUILD-SNAPSHOT&lt;/micronaut.version&gt; <i class="conum" data-value="1"></i><b>(1)</b>
    ...
  &lt;/properties&gt;

  &lt;repositories&gt;
    &lt;repository&gt;
      &lt;id&gt;jcenter.bintray.com&lt;/id&gt;
      &lt;url&gt;https://jcenter.bintray.com&lt;/url&gt; <i class="conum" data-value="2"></i><b>(2)</b>
    &lt;/repository&gt;
    &lt;repository&gt;
      &lt;id&gt;jfrog-snapshots&lt;/id&gt;
      &lt;url&gt;https://oss.jfrog.org/oss-snapshot-local&lt;/url&gt; <i class="conum" data-value="3"></i><b>(3)</b>
    &lt;/repository&gt;
  &lt;/repositories&gt;

  &lt;dependencyManagement&gt;
    &lt;dependencies&gt;
      &lt;dependency&gt;
        &lt;groupId&gt;io.micronaut&lt;/groupId&gt;
        &lt;artifactId&gt;micronaut-bom&lt;/artifactId&gt;
        &lt;version&gt;${micronaut.version}&lt;/version&gt;
        &lt;type&gt;pom&lt;/type&gt;
        &lt;scope&gt;import&lt;/scope&gt;
      &lt;/dependency&gt;
    &lt;/dependencies&gt;
  &lt;/dependencyManagement&gt;

  ...
&lt;/project&gt;</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Set the snapshot version.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Micronaut releases are available on JCenter and Maven Central</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Micronaut snapshots are available on JFrog OSS Snapshots</td>
</tr>
</table>
</div>

<h2 id="problems"><a class="anchor" href="#problems"></a>18.3 Common Problems</h2>

<div class='contribute-btn'>
    <button type='button' class='btn btn-default' onclick='window.location.href="https://github.com/micronaut-projects/micronaut-core/edit/master/src/main/docs/guide/appendix/problems.adoc"'>
        <i class='fa fa-pencil-square-o'></i> Improve this doc
    </button>
</div>


<div class="paragraph">
<p>The following section covers common problems folks stumble upon when using Micronaut.</p>
</div>
<div class="sect3">
<h4 id="_dependency_injection_is_not_working"><a class="anchor" href="#_dependency_injection_is_not_working"></a>Dependency injection is not working</h4>
<div class="paragraph">
<p>The most common reason that Dependency Injection fails to work is when you either don&#8217;t have the appropriate annotation processor configured or your IDE is incorrectly configured. See the section on <a href="#languageSupport">Language Support</a> for how to get setup in your language.</p>
</div>
</div>
<div class="sect3">
<h4 id="_a_nosuchmethoderror_occurs_loading_beans_groovy"><a class="anchor" href="#_a_nosuchmethoderror_occurs_loading_beans_groovy"></a>A NoSuchMethodError occurs loading beans (Groovy)</h4>
<div class="paragraph">
<p>Groovy by default imports the <code>groovy.lang</code> package which includes a class called <code>@Singleton</code> that is an AST transformation that makes your class a singleton (adding a private constructor and static retrieval method). This annotation is easily confused with the <code>javax.inject.Singleton</code> annotation used to define singleton beans in Micronaut. Make sure you are using the correct annotation in your Groovy classes.</p>
</div>
</div>
<div class="sect3">
<h4 id="_it_is_taking_much_longer_to_start_my_application_than_it_should_nix_os"><a class="anchor" href="#_it_is_taking_much_longer_to_start_my_application_than_it_should_nix_os"></a>It is taking much longer to start my application than it should (*nix OS)</h4>
<div class="paragraph">
<p>This is likely due to a bug that has to do with executions of <code>java.net.InetAddress.getLocalHost()</code> causing a long delay. The solution is to edit your <code>/etc/hosts</code> file to add an entry that contains your host name. To find your host name, simply enter <code>hostname</code> in the terminal and the value will be output. Then edit your <code>/etc/hosts</code> file to add or change entries like the example below, replacing <code>&lt;hostname&gt;</code> with your host name.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>127.0.0.1       localhost &lt;hostname&gt;
::1             localhost &lt;hostname&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>To learn more about this issue, see this <a href="https://stackoverflow.com/a/39698914/1264846">stackoverflow answer</a></p>
</div>
</div>

<h2 id="breaks"><a class="anchor" href="#breaks"></a>18.4 Breaking Changes</h2>

<div class='contribute-btn'>
    <button type='button' class='btn btn-default' onclick='window.location.href="https://github.com/micronaut-projects/micronaut-core/edit/master/src/main/docs/guide/appendix/breaks.adoc"'>
        <i class='fa fa-pencil-square-o'></i> Improve this doc
    </button>
</div>


<div class="paragraph">
<p>This section will document breaking changes between Micronaut 1.0 and Micronaut 2.0</p>
</div>
<div class="sect2">
<h3 id="_executable_no_longer_stereotype_of_around"><a class="anchor" href="#_executable_no_longer_stereotype_of_around"></a>@Executable No Longer Stereotype of @Around</h3>
<div class="paragraph">
<p>In Micronaut 1.x the <a href="../api/io/micronaut/context/annotation/Executable.html">@Executable</a> annotation was a meta-annotation specified on the <a href="../api/io/micronaut/aop/Around.html">@Around</a> and <a href="../api/io/micronaut/aop/Introduction.html">@Introduction</a> annotations. This meant that an <a href="../api/io/micronaut/inject/ExecutableMethod.html">ExecutableMethod</a> reference was generated for every usage of AOP advice which consumed additional memory unnecessarily.</p>
</div>
<div class="paragraph">
<p>In Micronaut 2.x and above this is no longer the case and if you need an <a href="../api/io/micronaut/inject/ExecutableMethod.html">ExecutableMethod</a> generated you should add the <a href="../api/io/micronaut/context/annotation/Executable.html">@Executable</a> annotation to any custom AOP advice you specify otherwise the method will not be available via the <a href="../api/io/micronaut/inject/BeanDefinition.html">BeanDefinition</a> interface (using for example the <a href="../api/io/micronaut/BeanDefinition/getExecutableMethods.html">getExecutableMethods</a> method).</p>
</div>
</div>
<div class="sect2">
<h3 id="_spot_bugs_instead_of_jsr_305_nullable_nonnull_annotations"><a class="anchor" href="#_spot_bugs_instead_of_jsr_305_nullable_nonnull_annotations"></a>Spot Bugs Instead of JSR-305 Nullable/NonNull Annotations</h3>
<div class="paragraph">
<p>The JSR-305 annotations library (<code>com.google.code.findbugs:jsr305</code>) is no longer a dependency (replaced by <code>spotbugs-annotations</code>). If you need this library you will need to add it manually.</p>
</div>
</div>
<div class="sect2">
<h3 id="_events_renamed"><a class="anchor" href="#_events_renamed"></a>Events Renamed</h3>
<div class="paragraph">
<p>The following events were renamed to avoid confusion with other events of similar names:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Old Name</th>
<th class="tableblock halign-left valign-top">New Name</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>io.micronaut.discovery.event.ServiceStartedEvent</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="../api/io/micronaut/discovery/event/ServiceReadyEvent.html">ServiceReadyEvent</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>io.micronaut.discovery.event.ServiceShutdownEvent</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="../api/io/micronaut/discovery/event/ServiceStoppedEvent.html">ServiceStoppedEvent</a></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_http_clients_no_longer_named_beans"><a class="anchor" href="#_http_clients_no_longer_named_beans"></a>HTTP Clients No Longer Named Beans</h3>
<div class="paragraph">
<p>HTTP clients declared with <code>micronaut.http.services</code> (see <a href="#serviceDiscoveryManual">Manual Service Discovery Configuration</a>) are no longer named beans in the context and cannot be injected with <code>javax.inject.Named</code>, for example given the configuration:</p>
</div>
<div class="listingblock">
<div class="title">Manually configuring services</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">micronaut:
    http:
        services:
            foo:
                urls:
                    - http://foo1
                    - http://foo2</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can lon longer inject an HTTP client with <code>@Named("foo")</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Inject
@Named("foo")
RxHttpClient httpClient;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Instead you should always use <a href="../api/io/micronaut/http/client/annotation/Client.html">@Client</a>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Inject
@Client("foo")
RxHttpClient httpClient;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_source_retention_annotations_no_longer_retained_in_runtime_metadata"><a class="anchor" href="#_source_retention_annotations_no_longer_retained_in_runtime_metadata"></a>Source Retention Annotations No Longer Retained in Runtime Metadata</h3>
<div class="paragraph">
<p>In Micronaut 1.x annotations specified as source retention were still retained in the <a href="../api/io/micronaut/core/annotation/AnnotationMetadata.html">AnnotationMetadata</a> interface. As of Micronaut 2.x this is no longer the case with source retention annotations only available within the compiler APIs.</p>
</div>
<div class="paragraph">
<p>If you wish to retain a particular source level annotation when upgrading you can write an <a href="../api/io/micronaut/inject/annotation/AnnotationTransformer.html">AnnotationTransformer</a> that alters the <code>RetentionPolicy</code> of the annotation.</p>
</div>
</div>
<div class="sect2">
<h3 id="_iterable_beans_no_longer_have_an_implicit_primary"><a class="anchor" href="#_iterable_beans_no_longer_have_an_implicit_primary"></a>Iterable Beans No Longer Have An Implicit Primary</h3>
<div class="paragraph">
<p>In Micronaut 1.x injecting a single instance of an iterable bean without qualifiers would inject the first bean. An iterable bean is typically anything annotated with <code>@EachProperty</code> or <code>@EachBean</code>. Those beans typically are referenced from configuration. The first bean in this context is the first item in configuration that matches what the annotation expects.</p>
</div>
<div class="paragraph">
<p>For example if you created a bean with <code>@EachProperty("cars")</code>, then specified the following in your config:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">cars:
    ford:
        cylinders: 8
    subaru:
        cylinders: 4</code></pre>
</div>
</div>
<div class="paragraph">
<p>Requesting a single instance of that bean would result in the "ford" instance being injected. Because that behavior is surprising and inconsistent with other types of beans, that is no longer the case and a <code>NonUniqueBeanException</code> will be thrown.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This change does not apply to an explicit primary defined in the annotation (<code>@EachProperty(value = "cars", primary = "ford")</code>), nor requesting the instance by a qualifier (<code>@Named("ford") CarConfig carConfig</code>).
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_invalid_configuration_file_locations"><a class="anchor" href="#_invalid_configuration_file_locations"></a>Invalid Configuration File Locations</h3>
<div class="paragraph">
<p>Specifying a file with <code>micronaut.config.files</code>, either through the system property or environment variable, that does not exist or cannot be read will now result in the application failing to startup. In previous versions of Micronaut a warning would be logged and the file would be ignored.</p>
</div>
</div>
<div class="sect2">
<h3 id="_graal_dependency"><a class="anchor" href="#_graal_dependency"></a>Graal Dependency</h3>
<div class="paragraph">
<p>The old Graal group name <code>com.oracle.substratevm</code> is no longer part of the Micronaut BOM.</p>
</div>
</div>
<div class="sect2">
<h3 id="_propertysourceloader_changes"><a class="anchor" href="#_propertysourceloader_changes"></a>PropertySourceLoader Changes</h3>
<div class="paragraph">
<p>Some default interface methods are no longer default and require implementation.</p>
</div>
</div>
<div class="sect2">
<h3 id="_deprecation_removal"><a class="anchor" href="#_deprecation_removal"></a>Deprecation Removal</h3>
<div class="paragraph">
<p>Most if not all deprecated classes and methods have been removed.</p>
</div>
</div>


                <div style="clear:both;margin-top:15px;"></div>
                
                    <div class="toc-item prev-left"><a href="../guide/cli.html">&lt;&lt; <strong>17</strong><span>Micronaut CLI</span></a></div>
                
                <div style="clear:both"></div>
            </div>
        </td>
        <td id="col2">
            <div class="local clearfix">
                <div class="local-title">
                    <a href="../guide/index.html" target="mainFrame">Quick Reference</a>
                    <span class="toggle">(<a href="#" onclick="localToggle(); return false;">hide</a>)</span>
                </div>
                <div class="menu">
                    
                </div>
            </div>
        </td>
    </tr>
</table>

<div id="footer">
    
    
</div>

<script type="text/javascript" src="../js/docs.js"></script>

</body>
</html>
